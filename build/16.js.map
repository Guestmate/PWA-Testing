{"version":3,"sources":["../../src/pages/restaurants/restaurants.module.ts","../../src/pages/restaurants/restaurants.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RestaurantsPage } from './restaurants';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    RestaurantsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RestaurantsPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class RestaurantsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurants/restaurants.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, LoadingController, Loading, Platform, normalizeURL } from 'ionic-angular';\nimport { RestaurantServiceProvider } from '../../providers/restaurant-service/restaurant-service';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { Restaurant } from '../../model/restaurant-model';\nimport { NotificationProvider } from '../../providers/notification/notification';\n\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\n/**\n * Generated class for the RestaurantsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-restaurants',\n  templateUrl: 'restaurants.html',\n})\nexport class RestaurantsPage {\n  @ViewChild(Slides) slides: Slides;\n  loading: Loading;\n  restaurantsList: any = [];\n  imagePath: string = '';\n  activeSlider: number;\n\n  constructor(private transfer: FileTransfer, private file: File, public navCtrl: NavController,\n    public navParams: NavParams, private restaurants: RestaurantServiceProvider,\n    public toolsProvider: ToolsProvider, public loadingCtrl: LoadingController,\n    private notificationProvider: NotificationProvider, private platForm: Platform) {\n\n    if (this.restaurants.objRestaurant && this.restaurants.objRestaurant.activeSlider) {\n      this.activeSlider = this.restaurants.objRestaurant.activeSlider;\n    }\n    //get restaurants list\n    this.restaurantsList = this.restaurants.objRestaurant.data;\n\n  }\n\n  ionViewDidLoad() {\n\n    if (this.activeSlider) {\n      setTimeout(() => {\n        this.slides.slideTo(this.activeSlider, 0);\n      }, 200);\n    }\n\n  }\n  //moves to next slide\n  slideNext() {\n    this.slides.slideNext();\n  }\n\n  //moves to previous slide\n  slidePrev() {\n    this.slides.slidePrev();\n  }\n  download(itemId, url, fname, i) {\n    this.file.checkFile(this.file.cacheDirectory, fname).then(() => {\n\n      this.loading.dismiss();\n      let imgUrl = this.file.cacheDirectory + fname;\n      if (this.platForm.is('ios')) {\n        imgUrl = normalizeURL(this.file.cacheDirectory + fname);\n      }\n      this.navCtrl.push(\"RestaurantDetailsPage\", { itemId: itemId, img: imgUrl }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n\n    }, (error) => {\n\n      const fileTransfer: FileTransferObject = this.transfer.create();\n      fileTransfer.download(url, this.file.cacheDirectory + fname).then((entry) => {\n        this.loading.dismiss();\n        let imgUrl = entry.toURL();\n        if (this.platForm.is('ios')) {\n          imgUrl = normalizeURL(entry.toURL());\n        }\n        this.navCtrl.push(\"RestaurantDetailsPage\", { itemId: itemId, img: imgUrl }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n\n      }, (error) => {\n        this.loading.dismiss();\n        this.navCtrl.push(\"RestaurantDetailsPage\", { itemId: itemId, img: \"\" }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n      });\n\n    });\n  }\n  fnGotoDetailsPage(itemId) {\n    this.showLoading();\n    let itemData = this.restaurants.objRestaurant.data; // get all item list\n    itemData = itemData.find(x => x.id == itemId); // get item from item list with given item id\n    for (let item of itemData.availableDishes) {\n      let itemArray: any;\n      itemArray = item;\n      let imagePath = this.toolsProvider.getImagePath(item.foto.id); // image path using image id\n      this.download(itemId, imagePath, item.foto.id + \".jpg\", 0);\n      break;\n    }\n  }\n\n  ionViewWillLeave() {\n    //save active slider index\n    this.restaurants.objRestaurant.activeSlider = this.slides.getActiveIndex();\n  }\n\n  //function to go to previous page\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  //Loader\n  public showLoading() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n\n    this.loading.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurants/restaurants.ts"],"sourceRoot":""}