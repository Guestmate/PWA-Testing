{"version":3,"sources":["../../src/pages/promotions-details/promotions-details.module.ts","../../src/pages/promotions-details/promotions-details.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PromotionsDetailsPage } from './promotions-details';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    PromotionsDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PromotionsDetailsPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class PromotionsDetailsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/promotions-details/promotions-details.module.ts","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ReservationServiceProvider } from '../../providers/reservation-service/reservation-service';\nimport { PromotionsServiceProvider } from '../../providers/promotions-service/promotions-service';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { NotificationProvider } from '../../providers/notification/notification';\n\n/**\n * Generated class for the PromotionsDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-promotions-details',\n  templateUrl: 'promotions-details.html',\n})\nexport class PromotionsDetailsPage {\n  backgroundImage: any; // to store background image url\n  descriptionHtml: any; // to store 'description' translation  \n  res: any; //to store return data while language translate\n  itemId: any; // to store item id\n  item: any = []; // to store full item list\n  description: any; // to store description message\n  itemArray: any = []; // to store single item from items list\n  currencySymbol: any = this.hotelProvider.objHotel.currency.signo; // for currency symbol\n  \n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public promotionsProvider: PromotionsServiceProvider, public toolsProvider: ToolsProvider,\n    private alertCtrl: AlertController, private hotelProvider: HotelServiceProvider,\n    public sanitized: DomSanitizer, public cdRef: ChangeDetectorRef,\n    private reservationProvider: ReservationServiceProvider, private notificationProvider: NotificationProvider) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PromotionsDetailsPage');\n    this.itemId = this.navParams.get('itemId'); // get item id \n    this.item = this.promotionsProvider.objPromotions.data; // get all item list\n    this.itemArray = this.item.find(x => x.id == this.itemId); // get item from item list with given item id\n    this.backgroundImage = this.itemArray.imgPath; // returns image url\n    this.description = this.itemArray.descripcionAmpliada; // returns description message\n    this.res = this.toolsProvider.fnLanguageTranslate('view.reservation.label.descriptionPrefix'); // for language translation\n    this.res.subscribe((value: string) => {\n      this.descriptionHtml = this.sanitized.bypassSecurityTrustHtml(value);\n      this.cdRef.detectChanges();\n    });\n  }\n\n  fnGotoPromotionBooking(item) {\n    // check reservation is in a valid date range\n    let createdDate = this.reservationProvider.objReservation.createdDate,\n      noOfNightsStay = this.reservationProvider.objReservation.nights,\n      noStayGuest = this.reservationProvider.objReservation.noStayGuest;\n    let dateRange = this.toolsProvider.getValidReservationDateRange(createdDate, noOfNightsStay, noStayGuest);\n    //if date range is not valid then show error message\n    if (dateRange == null) {\n\n      let stayOverMsg = this.toolsProvider.fnLanguageTranslate(['view.reservation.error.dateRange', \"common.error\", \"buttons.ok\"]);\n\n      stayOverMsg.subscribe((value: string) => {\n        let alertsuccess = this.alertCtrl.create({\n          title: value['common.error'],\n          message: value['view.reservation.error.dateRange'],\n          cssClass: 'cls_alrt',\n          buttons: [\n            {\n              text: value['buttons.ok'],\n              role: 'cancel',\n\n            }]\n        });\n        alertsuccess.present();\n        setTimeout(() => { alertsuccess.dismiss(); }, 5000);\n      });\n\n    } else {\n      //if date range is valid then go to booking page\n      this.navCtrl.push(\"PromotionsBookingPage\", { item: item }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n    }\n  }\n\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/promotions-details/promotions-details.ts"],"sourceRoot":""}