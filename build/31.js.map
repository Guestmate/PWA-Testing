{"version":3,"sources":["../../src/pages/amenities/amenities.module.ts","../../src/pages/amenities/amenities.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AmenitiesPage } from './amenities';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    AmenitiesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AmenitiesPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class AmenitiesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/amenities/amenities.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Loading, Platform, AlertController } from 'ionic-angular';\nimport { AncillaryServiceProvider } from '../../providers/ancillary-service/ancillary-service';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { CheckinServiceProvider } from '../../providers/checkin-service/checkin-service';\nimport { ReservationServiceProvider } from '../../providers/reservation-service/reservation-service';\nimport { UpgradeServiceData } from '../../model/upgrade-service-model';\nimport { NotificationProvider } from '../../providers/notification/notification';\nimport { AmenitiesServiceProvider } from '../../providers/amenities-service/amenities-service';\n\n//Xevi\nimport { ToastController } from 'ionic-angular';\n\n\n/**\n * Generated class for the ServiceUpgradePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-amenities',\n  templateUrl: 'amenities.html',\n})\nexport class AmenitiesPage {\n  loading: Loading;\n  serviceRateText: string = '';\n  servicesList: any = [];\n  currencySymbol: any = this.hotelProvider.objHotel.currency.signo;\n  Qty: any = [];\n  selectedServices: any = [];\n  filteredServices: any = [];\n  tempList: any = [];\n  listArray: any;\n  loadedData: any;\n  localData: any = [];\n  devicePlatForm: string = \"android\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private serviceProvider: AncillaryServiceProvider, public toolsProvider: ToolsProvider,\n    private checkinProvider: CheckinServiceProvider, private hotelProvider: HotelServiceProvider,\n    private amenitiesProvider: AmenitiesServiceProvider,\n    private alertCtrl: AlertController,\n    private toastCtrl: ToastController,\n    private reservationProvider: ReservationServiceProvider, private notificationProvider: NotificationProvider, public loadingCtrl: LoadingController, private platForm: Platform) {\n    if (this.platForm.is('ios')) {\n        this.devicePlatForm = \"ios\";\n    }\n  }\n  ionViewDidLoad() {\n    this.showLoading();\n    console.log('ionViewDidLoad ServiceUpgradePage');\n    //service call\n    this.servicesList = this.amenitiesProvider.getStaticAmenitiesList();\n    //translate\n    let defaultRateTranslate = this.toolsProvider.fnLanguageTranslate(\"common.porDia\");\n    let defaultRateText = '';\n    defaultRateTranslate.subscribe((value: string) => {\n      defaultRateText = value;\n    });\n\n    this.serviceRateText = this.currencySymbol + defaultRateText;\n    this.loading.dismiss();\n  }\n\n  public showLoading() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n\n    this.loading.present();\n  }\n  // store entered data into model before leaving page\n  public ionViewWillLeave() {\n  }\n\n  //to add quantity of an extra service\n  fnAddExtraServices(itemId) {\n    this.Qty[itemId] = (this.Qty[itemId]) ? this.Qty[itemId] + 1 : 1;\n  }\n\n  //to subtract quantity of an extra service\n  fnRemoveExtraServices(itemId) {\n    this.Qty[itemId] = (this.Qty[itemId]) ? this.Qty[itemId] - 1 : 0;\n  }\n\n  //click to go to next page\n  fnSubmit() {\n    this.fndebug(\"ARRIBO1\");\n    this.filteredServices = [];\n    this.selectedServices = [];\n    this.listArray = this.servicesList;\n\n    Object.keys(this.Qty).forEach(itemId => {\n      if (itemId != undefined && this.Qty[itemId] != undefined && this.Qty[itemId] > 0) {\n        this.filteredServices = this.listArray.filter(x => x.id == itemId);\n\n        //if service upgrade selected data updated into ancillary summary list\n        let serviceArray: any = [];\n        serviceArray.type = 'service';\n        serviceArray.quantity = this.Qty[itemId];\n        serviceArray.serviceId = itemId;\n        serviceArray.serviceName = this.filteredServices[0].name;\n        this.selectedServices.push(serviceArray);\n      }\n\n    });\n    this.fndebug(\"ARRIBO2\");\n    this.amenitiesProvider.sendAmenitiesRequest(1, this.selectedServices, 201).subscribe((data) => {\n      this.fndebug(\"ARRIBO3\");\n      let alertnew = this.alertCtrl.create({\n        title: 'ALERT',\n        message: 'ALERT OK',\n        cssClass: 'cls_alrt',\n        buttons: [\n          {\n            text: 'OK',\n            role: 'cancel'\n          }]\n      });\n      alertnew.present();\n      setTimeout(() => { alertnew.dismiss(); }, 5000);\n\n    })\n  }\n\n  //function to go to previous page\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  //Xevi\n  private fndebug(message) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.onDidDismiss(() => {\n    });\n\n    toast.present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/amenities/amenities.ts"],"sourceRoot":""}