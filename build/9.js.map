{"version":3,"sources":["../../src/pages/room-upgrade/room-upgrade.module.ts","../../src/pages/room-upgrade/room-upgrade.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RoomUpgradePage } from './room-upgrade';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    RoomUpgradePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RoomUpgradePage),\n    TranslateModule.forChild()\n  ],\n})\nexport class RoomUpgradePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/room-upgrade/room-upgrade.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { UpgradeServiceData } from '../../model/upgrade-service-model';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { UpgradeRoomServiceProvider } from '../../providers/upgrade-room-service/upgrade-room-service';\nimport { AncillaryServiceProvider } from '../../providers/ancillary-service/ancillary-service';\nimport { CheckinServiceProvider } from '../../providers/checkin-service/checkin-service';\nimport { ReservationServiceProvider } from '../../providers/reservation-service/reservation-service';\nimport { NotificationProvider } from '../../providers/notification/notification';\n/**\n * Generated class for the RoomUpgradePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-room-upgrade',\n  templateUrl: 'room-upgrade.html',\n})\nexport class RoomUpgradePage {\n  roomUpgradeForm: FormGroup;\n  currencySymbol: any = this.hotelProvider.objHotel.currency.signo;\n  acceptUpgradeText: any;\n  roomTitleText: any = '';\n  imagePath: string = '';\n  roomName: string = '';\n  roomDescription: string = '';\n  serviceList: any = [];\n  loading: Loading;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public formBuilder: FormBuilder,\n    public toolsProvider: ToolsProvider, public sanitized: DomSanitizer,\n    private hotelProvider: HotelServiceProvider, private checkinProvider: CheckinServiceProvider,\n    private upgradeRoomProvider: UpgradeRoomServiceProvider, private serviceProvider: AncillaryServiceProvider,\n    public loadingCtrl: LoadingController, private reservationProvider: ReservationServiceProvider, private notificationProvider: NotificationProvider) {\n    this.roomUpgradeForm = this.formBuilder.group({\n      rdoUpgrade: new FormControl()\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RoomUpgradePage');\n    //language translate\n    let defaultTextTranslate = this.toolsProvider.fnLanguageTranslate([\"view.checkin.template.acceptUpgrade\", \"view.checkin.label.whyThisRoom.title\"]);\n\n    let defaultText = '';\n    defaultTextTranslate.subscribe((value: string) => {\n      defaultText = value;\n    });\n\n    //replace variable names by actual price in default Text\n    this.acceptUpgradeText = defaultText['view.checkin.template.acceptUpgrade'] != \"\" ? defaultText['view.checkin.template.acceptUpgrade'].replace('{precio}', this.upgradeRoomProvider.objUpgradeRoom.price).replace('{moneda}', this.currencySymbol) : \"\";\n    this.acceptUpgradeText = this.sanitized.bypassSecurityTrustHtml(this.acceptUpgradeText);\n    // bypass HTML tags \n    this.roomTitleText = this.sanitized.bypassSecurityTrustHtml(defaultText['view.checkin.label.whyThisRoom.title']);\n    this.roomName = this.upgradeRoomProvider.objUpgradeRoom.name;\n    this.imagePath = this.upgradeRoomProvider.objUpgradeRoom.photo;\n    this.roomDescription = this.upgradeRoomProvider.objUpgradeRoom.description;\n    let rdoUpgradeValue = (this.upgradeRoomProvider.objUpgradeRoom.preEnteredUpgrade != '') ? this.upgradeRoomProvider.objUpgradeRoom.preEnteredUpgrade : 'rejectUpgrade';\n    this.roomUpgradeForm.get('rdoUpgrade').setValue(rdoUpgradeValue);\n  }\n\n  public ionViewWillLeave() {\n    this.upgradeRoomProvider.objUpgradeRoom.preEnteredUpgrade = this.roomUpgradeForm.get('rdoUpgrade').value;\n  }\n  fnContinueAncillary() {\n    this.checkinProvider.objCheckin.ancillarySummaryList = [];\n    this.serviceProvider.objUpgradeService.ancillaryList = [];\n\n    //if room upgrade selected, data updated into ancillary summary list to display in checkin summary page\n    let roomChoice = this.roomUpgradeForm.get('rdoUpgrade').value;\n    if (roomChoice == 'acceptUpgrade') {\n      let roomArray: any = [];\n      roomArray.type = 'room';\n      roomArray.roomName = this.upgradeRoomProvider.objUpgradeRoom.name;\n      roomArray.price = this.upgradeRoomProvider.objUpgradeRoom.price;\n      roomArray.currency = this.currencySymbol;\n      roomArray.roomId = this.upgradeRoomProvider.objUpgradeRoom.roomUpgradeId;\n      roomArray.nights = this.reservationProvider.objReservation.nights;\n      roomArray.noOfPersons = this.reservationProvider.objReservation.noOfPersons;\n      this.checkinProvider.objCheckin.ancillarySummaryList.push(roomArray);\n    }\n    this.navCtrl.push(\"ServiceUpgradePage\", {}, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n\n  }\n\n  public showLoading() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n\n    this.loading.present();\n  }\n\n  //function to go to previous page\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/room-upgrade/room-upgrade.ts"],"sourceRoot":""}