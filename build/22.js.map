{"version":3,"sources":["../../src/pages/payment-data/payment-data.module.ts","../../src/pages/payment-data/payment-data.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PaymentDataPage } from './payment-data';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    PaymentDataPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PaymentDataPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class PaymentDataPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-data/payment-data.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, Loading, } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { StripeService, Elements, Element as StripeElement } from \"ngx-stripe\";\nimport { CheckinServiceProvider } from '../../providers/checkin-service/checkin-service';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { UpgradeRoomServiceProvider } from '../../providers/upgrade-room-service/upgrade-room-service';\nimport { UpgradeRoomData } from '../../model/upgrade-room-model';\nimport { AncillaryServiceProvider } from '../../providers/ancillary-service/ancillary-service';\nimport { UpgradeServiceData } from '../../model/upgrade-service-model';\nimport { NotificationProvider } from '../../providers/notification/notification';\nimport { CommonServiceProvider } from '../../providers/common-service/common-service';\n/**\n * Generated class for the PaymentDataPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-payment-data',\n  templateUrl: 'payment-data.html',\n})\nexport class PaymentDataPage {\n  paymentDataForm: FormGroup;\n  loading: Loading;\n  isCheckedAgree = false;\n  isChecked = true;\n  maxDate: any;\n  elements: Elements;\n  card: StripeElement;\n  upgradeRoomList: any = [];\n  serviceList: any = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController, public formBuilder: FormBuilder,\n    public toolsProvider: ToolsProvider, private stripeService: StripeService, private checkinProvider: CheckinServiceProvider\n    , public hotelProvider: HotelServiceProvider, public upgradeRoomServiceProvider: UpgradeRoomServiceProvider, private serviceProvider: AncillaryServiceProvider, private notificationProvider: NotificationProvider, private commonProvider: CommonServiceProvider) {\n    this.paymentDataForm = this.formBuilder.group({\n      'cardHolder': new FormControl(null, [Validators.required])\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PaymentDataPage');\n    this.calculateMaxDate();\n\n    this.stripeService.elements()\n      .subscribe(elements => {\n        this.elements = elements;\n        // Only mount the element the first time\n        if (!this.card) {\n          this.card = this.elements.create('card', {\n            style: {\n              base: {\n                iconColor: '#666EE8',\n                color: '#31325F',\n                lineHeight: '40px',\n                fontWeight: 300,\n                fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n                fontSize: '15px',\n                '::placeholder': {\n                  color: '#CFD7E0'\n                }\n              }\n            }\n          });\n          this.card.mount('#card-element');\n        }\n      });\n    this.fnCheckPreEnteredFormData();\n  }\n\n  //function to handle checking of radio button \n  public fnOnRadioSelect($event) {\n    this.isChecked = !this.isChecked;\n  }\n\n  //function to handle checking of radio button\n  public fnOnRadioSelectAgree($event) {\n    this.isCheckedAgree = !this.isCheckedAgree;\n  }\n\n  //function to calculate max date \n  public calculateMaxDate() {\n    this.maxDate = ((new Date()).getFullYear() + 20) + '-12-30';\n  }\n\n  public showLoading() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n\n    this.loading.present();\n  }\n\n  //function to execute on button 'continue' click\n  fnContinue() {\n\n    // service call\n    if (this.card != null && this.card != undefined) {\n      this.showLoading();\n      let name = this.paymentDataForm.get('cardHolder').value;\n      this.stripeService.createToken(this.card, { name }).subscribe(result => {\n\n        if (result.error) {\n          let errorMessages = this.toolsProvider.fnLanguageTranslate([result.error.message, \"common.error\", \"buttons.ok\"]);\n          this.loading.dismiss();\n          // Error creating the token\n          errorMessages.subscribe((value: string) => {\n            let alerterror = this.alertCtrl.create({\n              title: value['common.error'],\n              message: value[result.error.message],\n              cssClass: 'cls_alrt',\n              buttons: [\n                {\n                  text: value['buttons.ok'],\n                  role: 'cancel'\n                }]\n            });\n            alerterror.present();\n            setTimeout(() => { alerterror.dismiss(); }, 5000);\n          });\n        }\n        else if (result.token) {\n\n          this.checkinProvider.objCheckin.token = result.token.id;\n          this.checkinProvider.objCheckin.cardExpirationDate = result.token.card.exp_year.toString() + '-' + result.token.card.exp_month.toString();\n\n          //checking card holder validation at the success of card number validation\n          if (this.paymentDataForm.controls[\"cardHolder\"].value == null ||\n            this.paymentDataForm.controls[\"cardHolder\"].value == \"\") {\n            this.loading.dismiss();\n            let msg = this.toolsProvider.fnLanguageTranslate([\"common.error\", \"view.reservation.label.cardHolderEmpty\", \"buttons.ok\"]); // translate of error message\n\n            msg.subscribe((value: string) => {\n              let alertnew = this.alertCtrl.create({\n                title: value['common.error'],\n                message: value[\"view.reservation.label.cardHolderEmpty\"],\n                cssClass: 'cls_alrt',\n                buttons: [\n                  {\n                    text: value['buttons.ok'],\n                    role: 'cancel'\n                  }]\n              });\n              alertnew.present();\n              setTimeout(() => { alertnew.dismiss(); }, 5000);\n\n            });\n          }\n          //checking if agreed to terms at the success of card no & card holder validations\n          else if (this.isCheckedAgree == false) {\n            this.loading.dismiss();\n            let msg = this.toolsProvider.fnLanguageTranslate([\"common.error\", \"view.checkin.error.mustAgree\", \"buttons.ok\"]); // translate of error message\n\n            msg.subscribe((value: string) => {\n              let alertnew = this.alertCtrl.create({\n                title: value['common.error'],\n                message: value[\"view.checkin.error.mustAgree\"],\n                cssClass: 'cls_alrt',\n                buttons: [\n                  {\n                    text: value['buttons.ok'],\n                    role: 'cancel'\n                  }]\n              });\n              alertnew.present();\n              setTimeout(() => { alertnew.dismiss(); }, 5000);\n            });\n          }\n          else {\n            //service call to get Upgrade Room Information\n            this.fnUpgradeRoomInfo();\n\n          }\n        }\n\n      });\n    }\n  }\n\n  //service call\n  fnUpgradeRoomInfo() {\n\n    this.checkinProvider.objCheckin.agreeCheckboxField = this.isCheckedAgree;\n    this.checkinProvider.objCheckin.assignCreditCardToTheRooms = this.isChecked;\n    this.checkinProvider.objCheckin.cardHolder = this.paymentDataForm.controls[\"cardHolder\"].value;\n    let preEnteredUpgrade = '';\n    if (this.upgradeRoomServiceProvider.objUpgradeRoom && this.upgradeRoomServiceProvider.objUpgradeRoom.preEnteredUpgrade) {\n      preEnteredUpgrade = this.upgradeRoomServiceProvider.objUpgradeRoom.preEnteredUpgrade;\n    }\n    this.upgradeRoomServiceProvider.sendUpgradeRoomInfo().subscribe(data => {\n      this.loading.dismiss();\n      if (data.success == true && (data.response.length > 0)) {//inserting values to upgrade room model\n        this.upgradeRoomServiceProvider.objUpgradeRoom = new UpgradeRoomData();\n        this.upgradeRoomServiceProvider.objUpgradeRoom.name = data.response[0].nombre;\n        let imagePath = this.toolsProvider.getImagePath(data.response[0].foto.id);\n        this.upgradeRoomServiceProvider.objUpgradeRoom.photo = imagePath;\n        this.upgradeRoomServiceProvider.objUpgradeRoom.description = data.response[0].descripcion;\n        this.upgradeRoomServiceProvider.objUpgradeRoom.price = data.response[0].precio;\n        this.upgradeRoomServiceProvider.objUpgradeRoom.roomUpgradeId = data.response[0].id;\n        this.upgradeRoomServiceProvider.objUpgradeRoom.preEnteredUpgrade = preEnteredUpgrade;\n\n        //submit form and redirection to next form at validation success\n        this.navCtrl.push(\"RoomUpgradePage\", {}, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n      }\n      else if (data.response.length == 0) {\n        this.navCtrl.push(\"ServiceUpgradePage\", {}, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n      }\n    });\n    error => {\n      this.loading.dismiss();\n    }\n  }\n\n  //function to go to previous page\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  // store entered data into model before leaving page\n  public ionViewWillLeave() {\n    if ((this.commonProvider.objFormData.checkin) && !this.commonProvider.objFormData.checkin.checkinCompleted) {\n      this.commonProvider.objFormData.checkin.cardHolder = this.paymentDataForm.controls['cardHolder'] && this.paymentDataForm.get('cardHolder').value ? this.paymentDataForm.get('cardHolder').value : '';\n      this.commonProvider.objFormData.checkin.assignCard = this.isChecked;\n      this.commonProvider.objFormData.checkin.agreeTerms = this.isCheckedAgree;\n\n      this.checkinProvider.storeCheckinData(this.commonProvider.objFormData.checkin);\n    }\n  }\n\n  // fetch pre-entered data into fields from model\n  fnCheckPreEnteredFormData() {\n    if (this.commonProvider.objFormData && this.commonProvider.objFormData.checkin) {\n      this.paymentDataForm.get(\"cardHolder\").setValue(this.commonProvider.objFormData.checkin.cardHolder);\n      this.isChecked = this.commonProvider.objFormData.checkin.assignCard;\n      this.isCheckedAgree = this.commonProvider.objFormData.checkin.agreeTerms;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-data/payment-data.ts"],"sourceRoot":""}