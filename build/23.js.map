{"version":3,"sources":["../../src/pages/passport-picture/passport-picture.module.ts","../../src/pages/passport-picture/passport-picture.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PassportPicturePage } from './passport-picture';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    PassportPicturePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PassportPicturePage),\n    TranslateModule.forChild()\n  ],\n})\nexport class PassportPicturePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/passport-picture/passport-picture.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { Camera } from '@ionic-native/camera';\nimport { CheckinServiceProvider } from '../../providers/checkin-service/checkin-service';\nimport { ToolsProvider } from '../../providers/tools/tools';\n\n/**\n * Generated class for the PassportPicturePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-passport-picture',\n  templateUrl: 'passport-picture.html',\n})\nexport class PassportPicturePage {\n\n  passportImage: any = 'assets/imgs/background_photo.jpg';\n  formIndex: number;\n  documentType: any;\n  isPhotoAdded: boolean = false;\n  photoTemplateHtml: string = '';\n  devicePlatForm: string = \"android\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private camera: Camera,\n    private checkinProvider: CheckinServiceProvider, private tools: ToolsProvider, private platForm: Platform) {\n    if (this.platForm.is('ios')) {\n        this.devicePlatForm = \"ios\";\n    }\n  }\n\n  ionViewDidLoad() {\n    this.formIndex = this.navParams.get('formIndex');\n    this.documentType = this.navParams.get('documentType');\n    console.log('ionViewDidLoad PassportPicturePage');\n    let photoTemplate = this.tools.fnLanguageTranslate(\"view.checkin.template.foto\");\n    photoTemplate.subscribe((value: string) => {\n      this.photoTemplateHtml = value;\n    });\n    if (this.checkinProvider.objCheckin && this.checkinProvider.objCheckin.pictureFront[this.formIndex]) {\n      let prevImageData = this.checkinProvider.objCheckin.pictureFront[this.formIndex];\n      this.passportImage = \"data:image/jpeg;base64,\" + prevImageData;\n    }\n  }\n\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  public fnGetPassportPicture() {\n    this.fnAttachFile(this.camera.PictureSourceType.CAMERA);\n    this.isPhotoAdded = true;\n  }\n\n  public fnAttachFile(sourceType) {\n    var imageoptions: any = {\n      quality: 30,\n      targetWidth: 500,\n      targetHeight: 500,\n      allowEdit: true,\n      sourceType: sourceType,\n      mediaType: this.camera.MediaType.PICTURE,\n      destinationType: this.camera.DestinationType.DATA_URL\n    }\n    return this.camera.getPicture(imageoptions)\n      .then((imageData) => {\n        console.log('fileUri: ' + imageData);\n        this.passportImage = \"data:image/jpeg;base64,\" + imageData;\n        this.checkinProvider.objCheckin.pictureFront[this.formIndex] = imageData;\n\n      }).catch((error) => {\n        console.log(\"Camera error\" + error);\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/passport-picture/passport-picture.ts"],"sourceRoot":""}