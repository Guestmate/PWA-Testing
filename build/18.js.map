{"version":3,"sources":["../../src/pages/restaurant-details/restaurant-details.module.ts","../../src/pages/restaurant-details/restaurant-details.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RestaurantDetailsPage } from './restaurant-details';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    RestaurantDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RestaurantDetailsPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class RestaurantDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurant-details/restaurant-details.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, AlertController } from 'ionic-angular';\nimport { RestaurantServiceProvider } from '../../providers/restaurant-service/restaurant-service';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { ReservationServiceProvider } from '../../providers/reservation-service/reservation-service';\nimport { NotificationProvider } from '../../providers/notification/notification';\n\n/**\n * Generated class for the RestaurantDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-restaurant-details',\n  templateUrl: 'restaurant-details.html',\n})\nexport class RestaurantDetailsPage {\n  @ViewChild(Slides) slides: Slides;\n  dishesList: any = []; // to store dishes data\n  itemId: number; // for service id\n  itemData: any = []; // for service data\n  backgroundImage: any; // for service image\n  currencySymbol: any = this.hotelProvider.objHotel.currency.signo; // for currency symbol\n  isBookable: boolean = false;// for booking button show and hide\n  descriptionTitle: any;\n  \n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public restaurantProvider: RestaurantServiceProvider, private hotelProvider: HotelServiceProvider,\n    public toolsProvider: ToolsProvider, public reservationProvider: ReservationServiceProvider,\n    private alertCtrl: AlertController, private notificationProvider: NotificationProvider) {\n  }\n\n  ionViewWillEnter() {\n    this.itemId = this.navParams.get('itemId'); // get item id \n    let firstImage=this.navParams.get('img');\n    this.itemData = this.restaurantProvider.objRestaurant.data; // get all item list\n    this.itemData = this.itemData.find(x => x.id == this.itemId); // get item from item list with given item id\n    this.backgroundImage = this.itemData.imgPath; // returns image url\n    let i=0;\n    for (let item of this.itemData.availableDishes) {\n      let itemArray: any;\n      itemArray = item;\n      let imagePath = this.toolsProvider.getImagePath(item.foto.id); // image path using image id\n      itemArray.imgPath = imagePath;\n      if(i==0 && firstImage != \"\"){\n        itemArray.imgPath=firstImage;\n      }\n      let price = item.precio.toFixed(this.hotelProvider.objHotel.currency.decimales); // adding decimal points to price\n      itemArray.price = price;\n      this.dishesList.push(itemArray);\n      i++;\n    }\n    if (this.reservationProvider.objReservation.noStayGuest) {\n      this.isBookable = this.itemData.bookNoStay;\n    } else {\n      this.isBookable = this.itemData.esReservable;\n    }\n    let descTitle = this.toolsProvider.fnLanguageTranslate(\"view.reservation.label.descriptionPrefix\");\n\n    descTitle.subscribe((value: string) => {\n      this.descriptionTitle = value;\n    });\n  }\n\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  //moves to next slide\n  slideNext() {\n    this.slides.slideNext();\n  }\n\n  //moves to previous slide\n  slidePrev() {\n    this.slides.slidePrev();\n  }\n\n  public fnGotoRestaurantBooking(item) {\n    // check reservation is in a valid date range\n    let createdDate = this.reservationProvider.objReservation.createdDate,\n      noOfNightsStay = this.reservationProvider.objReservation.nights,\n      noStayGuest = this.reservationProvider.objReservation.noStayGuest;\n    let dateRange = this.toolsProvider.getValidReservationDateRange(createdDate, noOfNightsStay, noStayGuest);\n    //if date range is not valid then show error message\n    if (dateRange == null) {\n\n      let stayOverMsg = this.toolsProvider.fnLanguageTranslate(['view.reservation.error.dateRange', \"common.error\", \"buttons.ok\"]);\n\n      stayOverMsg.subscribe((value: string) => {\n        let alertsuccess = this.alertCtrl.create({\n          title: value['common.error'],\n          message: value['view.reservation.error.dateRange'],\n          cssClass: 'cls_alrt',\n          buttons: [\n            {\n              text: value['buttons.ok'],\n              role: 'cancel',\n\n            }]\n        });\n        alertsuccess.present();\n        setTimeout(() => { alertsuccess.dismiss(); }, 5000);\n      });\n\n    } else {\n      //if date range is valid then go to booking page\n      this.navCtrl.push(\"RestaurantBookingPage\", { item: item }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurant-details/restaurant-details.ts"],"sourceRoot":""}