{"version":3,"sources":["../../src/pages/wellness-details/wellness-details.module.ts","../../src/pages/wellness-details/wellness-details.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { WellnessDetailsPage } from './wellness-details';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    WellnessDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WellnessDetailsPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class WellnessDetailsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wellness-details/wellness-details.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, AlertController } from 'ionic-angular';\nimport { HotelServiceProvider } from '../../providers/hotel-service/hotel-service';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { ReservationServiceProvider } from '../../providers/reservation-service/reservation-service';\nimport { WellnessServiceProvider } from '../../providers/wellness-service/wellness-service';\nimport { NotificationProvider } from '../../providers/notification/notification';\n\n/**\n * Generated class for the WellnessDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-wellness-details',\n  templateUrl: 'wellness-details.html',\n})\nexport class WellnessDetailsPage {\n  @ViewChild(Slides) slides: Slides;\n  itemList: any = []; // to store dishes data\n  itemId: number; // for service id\n  itemData: any = []; // for service data\n  backgroundImage: any; // for service image\n  isBookable: boolean = false;// for booking button show and hide\n  descriptionTitle: any;// for description title\n  currencySymbol: any = this.hotelProvider.objHotel.currency.signo; // for currency symbol\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private hotelProvider: HotelServiceProvider, public toolsProvider: ToolsProvider, public reservationProvider: ReservationServiceProvider, private alertCtrl: AlertController, private wellnessProvider: WellnessServiceProvider, private notificationProvider: NotificationProvider) {\n  }\n\n  ionViewDidLoad() {\n    this.itemId = this.navParams.get('itemId'); // get item id \n    let firstImage=this.navParams.get('img');\n    this.itemData = this.wellnessProvider.objWellness.data; // get all item list\n    this.itemData = this.itemData.find(x => x.id == this.itemId); // get item from item list with given item id\n    this.backgroundImage = this.itemData.imgPath; // returns image url\n    if (this.reservationProvider.objReservation.noStayGuest) {\n      this.isBookable = this.itemData.bookNoStay;\n    } else {\n      this.isBookable = this.itemData.esReservable;\n    }\n    let i=0;\n    for (let item of this.itemData.availableItems) {\n      let itemArray: any;\n      itemArray = item;\n      let imagePath = this.toolsProvider.getImagePath(item.foto.id); // image path using image id\n      itemArray.imgPath = imagePath;\n      if(i==0 && firstImage != \"\"){\n        itemArray.imgPath=firstImage;\n      }\n      let price = item.precio.toFixed(this.hotelProvider.objHotel.currency.decimales); // adding decimal points to price\n      itemArray.price = price;\n      if ((!this.reservationProvider.objReservation.noStayGuest && item.esReservable == true) || (this.reservationProvider.objReservation.noStayGuest && item.bookNoStay == true)) {\n        itemArray.bookableItem = true;\n      } else {\n        itemArray.bookableItem = false;\n      }\n      this.itemList.push(itemArray);\n      i++;\n    }\n\n    let descTitle = this.toolsProvider.fnLanguageTranslate(\"view.reservation.label.descriptionPrefix\");\n\n    descTitle.subscribe((value: string) => {\n      this.descriptionTitle = value;\n    });\n    console.log('ionViewDidLoad WellnessDetailsPage');\n  }\n\n  //moves to next slide\n  slideNext() {\n    this.slides.slideNext();\n  }\n\n  //moves to previous slide\n  slidePrev() {\n    this.slides.slidePrev();\n  }\n\n  //function to go to previous page\n  public fnBack() {\n    this.navCtrl.pop({ animate: true, animation: 'transition', duration: 500, direction: 'back' });\n  }\n\n  public fnGotoWellnessBooking(item) {\n    // check reservation is in a valid date range\n    let createdDate = this.reservationProvider.objReservation.createdDate,\n      noOfNightsStay = this.reservationProvider.objReservation.nights,\n      noStayGuest = this.reservationProvider.objReservation.noStayGuest;\n    let dateRange = this.toolsProvider.getValidReservationDateRange(createdDate, noOfNightsStay, noStayGuest);\n    //if date range is not valid then show error message\n    if (dateRange == null) {\n\n      let stayOverMsg = this.toolsProvider.fnLanguageTranslate(['view.reservation.error.dateRange', \"common.error\", \"buttons.ok\"]);\n\n      stayOverMsg.subscribe((value: string) => {\n        let alertsuccess = this.alertCtrl.create({\n          title: value['common.error'],\n          message: value['view.reservation.error.dateRange'],\n          cssClass: 'cls_alrt',\n          buttons: [\n            {\n              text: value['buttons.ok'],\n              role: 'cancel',\n\n            }]\n        });\n        alertsuccess.present();\n        setTimeout(() => { alertsuccess.dismiss(); }, 5000);\n      });\n\n    } else {\n      //if date range is valid then go to booking page\n      this.navCtrl.push(\"WellnessBookingPage\", { item: item }, { animate: true, animation: 'transition', duration: 500, direction: 'forward' });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wellness-details/wellness-details.ts"],"sourceRoot":""}